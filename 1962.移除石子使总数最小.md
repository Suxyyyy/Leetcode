[[1962.移除石子使总数最小]](https://leetcode.cn/problems/remove-stones-to-minimize-the-total/description/)

```cpp
class Solution {
public:
    int minStoneSum(vector<int>& piles, int k) {
        priority_queue<int,vector<int>,less<int>>maxHeap;
        int s=reduce(begin(piles),end(piles));
        for(int& x : piles) {
            maxHeap.push(x);
        }
        while(k--) {
            int t=maxHeap.top();
            maxHeap.pop();
            sum-=t/2;
            maxHeap.push(t-t/2);
        }
        return s;
    }
};
```

初始化：将所有石子堆数入大顶堆，同时计算石子**总数量 sum**；

执行 k 次操作：

- 取出堆顶的最大值`t`（当前石子最多的堆）
- 总和`sum`先减去原数`t`，再加上操作后的数 `t - t/2`
- 将操作后的数 `t - t/2` 重新入堆

循环结束后，返回 sum 即为答案



空间复杂度：`O(n)` → 大顶堆存储所有`n`堆石子数量

时间复杂度：`O(n logn + k logn)`

- 建堆：`n`个元素入堆，每个元素入堆`O(logn)`，总`O(n logn)`

- k 次操作：每次弹出 + 插入都是O(logn)，总O(k logn)

  > 注：刷题中简写为 `O(n + k logn)`，是本题的理论最优复杂度